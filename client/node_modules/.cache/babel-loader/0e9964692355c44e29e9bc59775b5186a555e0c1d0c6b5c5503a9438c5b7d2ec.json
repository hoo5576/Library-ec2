{"ast":null,"code":"import React,{useEffect,useState}from'react';import{API_URL}from'../../config/contansts';import{useNavigate,NavLink}from'react-router-dom';import{useRecoilState}from\"recoil\";import{loginState}from\"../../recoil/atoms/State\";import{AiOutlineQuestionCircle}from\"react-icons/ai\";import axios from'axios';import GoogleLoginButton from'../../components/SocialLoginButtons/GoogleLoginButton/GoogleLoginButton';import NaverLoginButton from'../../components/SocialLoginButtons/NaverLoginButton/NaverLoginButton';import KakaoLoginButton from'../../components/SocialLoginButtons/KakaoLoginButton/KakaoLoginButton.js';import'./Login.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[islogin,setIslogin]=useRecoilState(loginState);//useState와 거의 비슷한 사용법\nconst navigate=useNavigate();/** 로그인 */const onSubmitLogin=async e=>{e.preventDefault();const email=e.target.email.value.trim();const pwd=e.target.pwd.value.trim();if(email!==\"\"&&pwd!==\"\"){console.log(email);axios.post(\"\".concat(API_URL,\"/api/user/login\"),{email,pwd},{withCredentials:true}// 쿠키 수정허용\n).then(()=>{alert(\"로그인성공!\");setIslogin(true);// 로컬스토리지에 저장. 브라우저닫아도 유지\nnavigate('/');}).catch(err=>{// console.error(err);\nconsole.error(err);alert(\"\\uB85C\\uADF8\\uC778 \\uC2E4\\uD328!\");});}else{return alert(\"전부 입력해주세요\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container-yjh\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"login-form-yjh\",onSubmit:onSubmitLogin,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD14C\\uC2A4\\uD2B8 ID: \",/*#__PURE__*/_jsx(\"b\",{children:\"i1004902@naver.com\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD14C\\uC2A4\\uD2B8 PWD: \",/*#__PURE__*/_jsx(\"b\",{children:\"qwer1234!\"})]}),/*#__PURE__*/_jsxs(\"ul\",{id:\"input-box-yjh\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"input-li-yjh\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC544\\uC774\\uB514(\\uC774\\uBA54\\uC77C\\uC8FC\\uC18C)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"text\",placeholder:\"\\uC608) abc@gmail.com\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"input-li-yjh\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{id:\"pwd\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\"})]})]}),/*#__PURE__*/_jsx(\"button\",{id:\"login-btn-yjh\",type:\"submit\",children:\"\\uB85C\\uADF8\\uC778\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"login-tip-yjh\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(AiOutlineQuestionCircle,{className:\"icon\"}),\"\\uB85C\\uADF8\\uC778\\uC774 \\uC548\\uB418\\uC2DC\\uB294 \\uACBD\\uC6B0 \\uD55C/\\uC601\\uD0A4\\uC640 Caps Lock\\uC774 \\uCF1C\\uC838 \\uC788\\uB294\\uC9C0 \\uD655\\uC778\\uD574\\uC8FC\\uC138\\uC694\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(AiOutlineQuestionCircle,{className:\"icon\"}),\"\\uACC4\\uC18D \\uB85C\\uADF8\\uC778\\uC774 \\uC548\\uB418\\uC2DC\\uB294 \\uACBD\\uC6B0 \\uAD00\\uB9AC\\uC790\\uC5D0\\uAC8C \\uBB38\\uC758 \\uD574\\uC8FC\\uC138\\uC694\"]}),/*#__PURE__*/_jsx(\"p\",{id:\"join-link-yjh\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/join\",className:\"join-link-kjh\",children:\"\\uD68C\\uC6D0\\uC774 \\uC544\\uB2C8\\uC2E0\\uAC00\\uC694? \\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uB7EC\\uAC00\\uAE30\"})})]}),/*#__PURE__*/_jsxs(\"fieldset\",{id:\"social-login-yjh\",children:[/*#__PURE__*/_jsx(\"legend\",{htmlFor:\"\",children:\"or\"}),/*#__PURE__*/_jsx(NaverLoginButton,{}),/*#__PURE__*/_jsx(GoogleLoginButton,{}),/*#__PURE__*/_jsx(KakaoLoginButton,{})]})]})});};export default Login;","map":{"version":3,"names":["React","useEffect","useState","API_URL","useNavigate","NavLink","useRecoilState","loginState","AiOutlineQuestionCircle","axios","GoogleLoginButton","NaverLoginButton","KakaoLoginButton","jsx","_jsx","jsxs","_jsxs","Login","islogin","setIslogin","navigate","onSubmitLogin","e","preventDefault","email","target","value","trim","pwd","console","log","post","concat","withCredentials","then","alert","catch","err","error","className","children","id","onSubmit","type","placeholder","to","htmlFor"],"sources":["C:/Users/user/Desktop/Library-ec2/client/src/pages/Login/Login.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { API_URL } from '../../config/contansts';\r\nimport { useNavigate, NavLink } from 'react-router-dom';\r\nimport { useRecoilState } from \"recoil\";\r\nimport { loginState } from \"../../recoil/atoms/State\";\r\nimport { AiOutlineQuestionCircle } from \"react-icons/ai\";\r\nimport axios from 'axios';\r\nimport GoogleLoginButton from '../../components/SocialLoginButtons/GoogleLoginButton/GoogleLoginButton';\r\nimport NaverLoginButton from '../../components/SocialLoginButtons/NaverLoginButton/NaverLoginButton';\r\nimport KakaoLoginButton from '../../components/SocialLoginButtons/KakaoLoginButton/KakaoLoginButton.js'\r\nimport './Login.scss';\r\n\r\nconst Login = () => {\r\n\tconst [islogin, setIslogin] = useRecoilState(loginState); //useState와 거의 비슷한 사용법\r\n\t\r\n\tconst navigate = useNavigate();\r\n\t\r\n\t/** 로그인 */\r\n\tconst onSubmitLogin = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst email = e.target.email.value.trim();\r\n\t\tconst pwd = e.target.pwd.value.trim();\r\n\r\n\t\tif( email !== \"\" && pwd !== \"\" ){\r\n\t\t\tconsole.log(email);\r\n\t\t\taxios.post(\r\n\t\t\t\t`${API_URL}/api/user/login`,\r\n\t\t\t\t{email, pwd},\r\n\t\t\t\t{ withCredentials: true }// 쿠키 수정허용\r\n\t\t\t)\r\n\t\t\t.then(() =>{\r\n\t\t\t\talert(\"로그인성공!\");\r\n\t\t\t\tsetIslogin(true);// 로컬스토리지에 저장. 브라우저닫아도 유지\r\n\t\t\t\tnavigate('/');  \r\n\t\t\t})\r\n\t\t\t.catch(err =>{\r\n\t\t\t\t// console.error(err);\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\talert(`로그인 실패!`);\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\treturn alert(\"전부 입력해주세요\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"login-container-yjh\">\r\n\t\t\t<form id='login-form-yjh' onSubmit={onSubmitLogin}>\r\n\t\t\t\t<h1>로그인</h1>\r\n\t\t\t\t<p>테스트 ID: <b>i1004902@naver.com</b></p>\r\n\t\t\t\t<p>테스트 PWD: <b>qwer1234!</b></p>\r\n\t\t\t\t<ul id='input-box-yjh'>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<li className=\"input-li-yjh\">\r\n\t\t\t\t\t\t\t<label>아이디(이메일주소)</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"예) abc@gmail.com\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"input-li-yjh\">\r\n\t\t\t\t\t\t\t<label>비밀번호</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"pwd\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"비밀번호\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button id='login-btn-yjh' type='submit'>로그인</button>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div id='login-tip-yjh'>\r\n\t\t\t\t\t<p><AiOutlineQuestionCircle className='icon'/>로그인이 안되시는 경우 한/영키와 Caps Lock이 켜져 있는지 확인해주세요</p>\r\n\t\t\t\t\t<p><AiOutlineQuestionCircle className='icon'/>계속 로그인이 안되시는 경우 관리자에게 문의 해주세요</p>\r\n\t\t\t\t\t<p id='join-link-yjh'><NavLink to=\"/join\" className=\"join-link-kjh\">회원이 아니신가요? 회원가입하러가기</NavLink></p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<fieldset id='social-login-yjh'>\r\n\t\t\t\t\t<legend htmlFor=\"\">or</legend>\r\n\t\t\t\t\t<NaverLoginButton/>\r\n\t\t\t\t\t<GoogleLoginButton/>\r\n\t\t\t\t\t<KakaoLoginButton/>\t\t\r\n\t\t\t\t</fieldset>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}