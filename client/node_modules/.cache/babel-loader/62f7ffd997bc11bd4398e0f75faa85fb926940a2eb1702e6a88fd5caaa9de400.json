{"ast":null,"code":"import{useState}from\"react\";import{IoIosArrowBack,IoIosArrowForward}from'react-icons/io';import'./Pagination.scss';// total(데이터 총 갯수), limit(한 페이지에 보여줄 갯수)\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Pagination=_ref=>{let{total,limit,page,setPage,getData,data_limit,lastPage}=_ref;console.log(lastPage);const[btnActive,setBtnActive]=useState(\"\");// 현재 눌린 버튼\nconst[pageHeadNum,setPageHeadNum]=useState(1);// 현재 활성화된 페이지 번호\n// const [currentPage, setCurrentPage] = useState(1);\nconst numPages=Math.ceil(total/limit);// 총 페이지 수는 올림해야 함\nconst hadlePageBtn=(e,i)=>{console.log(e.target.value);setBtnActive(e.target.value);setPage(i+1);};const handleNext=page=>{getData();setBtnActive(page);setPage(page+1);setPageHeadNum(pageHeadNum+1);};const handlePrevious=page=>{getData('DESC');setBtnActive(page);setPage(page+1);setPageHeadNum(pageHeadNum-1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-container-kjh\",children:[pageHeadNum!==1&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePrevious(0),children:/*#__PURE__*/_jsx(IoIosArrowBack,{})}),Array(numPages).fill().map((_,i)=>/*#__PURE__*/_jsx(\"button\",{value:i,className:i==btnActive?\"active\":\"\",onClick:e=>hadlePageBtn(e,i),children:pageHeadNum*(data_limit/limit)-(data_limit/limit-1)+i},i+1)),!lastPage&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleNext(0),children:/*#__PURE__*/_jsx(IoIosArrowForward,{})})]});};export default Pagination;","map":{"version":3,"names":["useState","IoIosArrowBack","IoIosArrowForward","jsx","_jsx","jsxs","_jsxs","Pagination","_ref","total","limit","page","setPage","getData","data_limit","lastPage","console","log","btnActive","setBtnActive","pageHeadNum","setPageHeadNum","numPages","Math","ceil","hadlePageBtn","e","i","target","value","handleNext","handlePrevious","className","children","onClick","Array","fill","map","_"],"sources":["C:/Users/user/Desktop/Library-ec2/client/src/components/Pagination/Pagination.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { IoIosArrowBack, IoIosArrowForward } from 'react-icons/io';\r\nimport './Pagination.scss';\r\n\r\n// total(데이터 총 갯수), limit(한 페이지에 보여줄 갯수)\r\nconst Pagination = ({ total, limit, page, setPage, getData, data_limit, lastPage}) => {\r\n  console.log(lastPage);\r\n  const [btnActive, setBtnActive] = useState(\"\"); // 현재 눌린 버튼\r\n  const [pageHeadNum, setPageHeadNum] = useState(1); // 현재 활성화된 페이지 번호\r\n  // const [currentPage, setCurrentPage] = useState(1);\r\n  const numPages = Math.ceil(total / limit); // 총 페이지 수는 올림해야 함\r\n\r\n\r\n  const hadlePageBtn = (e, i) => {\r\n    console.log(e.target.value);\r\n    setBtnActive(e.target.value);\r\n    setPage(i + 1);\r\n  };\r\n\r\n  const handleNext = (page) => {\r\n    getData();\r\n    setBtnActive(page);\r\n    setPage(page+1);\r\n    setPageHeadNum(pageHeadNum+1);\r\n  }\r\n\r\n  const handlePrevious = (page) => {\r\n    getData('DESC');\r\n    setBtnActive(page);\r\n    setPage(page+1);\r\n    setPageHeadNum(pageHeadNum-1);\r\n  }\r\n\r\n  return (\r\n    <div className=\"pagination-container-kjh\">\r\n      {pageHeadNum !== 1 && \r\n        <button onClick={() => handlePrevious(0)}>\r\n          <IoIosArrowBack />\r\n        </button>\r\n      }\r\n      {Array(numPages)\r\n        .fill()\r\n        .map((_, i) => (\r\n          <button \r\n            key={i + 1}\r\n            value={i}\r\n            className={i == btnActive ? \"active\" : \"\"} \r\n            onClick={(e) => hadlePageBtn(e, i)}\r\n          >\r\n            {pageHeadNum*(data_limit/limit)-(data_limit/limit-1)+i}\r\n          </button>\r\n        ))\r\n      }\r\n      {!lastPage &&  \r\n        <button onClick={() => handleNext(0)}>\r\n          <IoIosArrowForward />\r\n        </button>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,cAAc,CAAEC,iBAAiB,KAAQ,gBAAgB,CAClE,MAAO,mBAAmB,CAE1B;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAmE,IAAlE,CAAEC,KAAK,CAAEC,KAAK,CAAEC,IAAI,CAAEC,OAAO,CAAEC,OAAO,CAAEC,UAAU,CAAEC,QAAQ,CAAC,CAAAP,IAAA,CAC/EQ,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB,KAAM,CAACG,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAAE;AAChD,KAAM,CAACoB,WAAW,CAAEC,cAAc,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CAAC,CAAE;AACnD;AACA,KAAM,CAAAsB,QAAQ,CAAGC,IAAI,CAACC,IAAI,CAACf,KAAK,CAAGC,KAAK,CAAC,CAAE;AAG3C,KAAM,CAAAe,YAAY,CAAGA,CAACC,CAAC,CAAEC,CAAC,GAAK,CAC7BX,OAAO,CAACC,GAAG,CAACS,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAC3BV,YAAY,CAACO,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAC5BjB,OAAO,CAACe,CAAC,CAAG,CAAC,CAAC,CAChB,CAAC,CAED,KAAM,CAAAG,UAAU,CAAInB,IAAI,EAAK,CAC3BE,OAAO,CAAC,CAAC,CACTM,YAAY,CAACR,IAAI,CAAC,CAClBC,OAAO,CAACD,IAAI,CAAC,CAAC,CAAC,CACfU,cAAc,CAACD,WAAW,CAAC,CAAC,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAW,cAAc,CAAIpB,IAAI,EAAK,CAC/BE,OAAO,CAAC,MAAM,CAAC,CACfM,YAAY,CAACR,IAAI,CAAC,CAClBC,OAAO,CAACD,IAAI,CAAC,CAAC,CAAC,CACfU,cAAc,CAACD,WAAW,CAAC,CAAC,CAAC,CAC/B,CAAC,CAED,mBACEd,KAAA,QAAK0B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,EACtCb,WAAW,GAAK,CAAC,eAChBhB,IAAA,WAAQ8B,OAAO,CAAEA,CAAA,GAAMH,cAAc,CAAC,CAAC,CAAE,CAAAE,QAAA,cACvC7B,IAAA,CAACH,cAAc,GAAE,CAAC,CACZ,CAAC,CAEVkC,KAAK,CAACb,QAAQ,CAAC,CACbc,IAAI,CAAC,CAAC,CACNC,GAAG,CAAC,CAACC,CAAC,CAAEX,CAAC,gBACRvB,IAAA,WAEEyB,KAAK,CAAEF,CAAE,CACTK,SAAS,CAAEL,CAAC,EAAIT,SAAS,CAAG,QAAQ,CAAG,EAAG,CAC1CgB,OAAO,CAAGR,CAAC,EAAKD,YAAY,CAACC,CAAC,CAAEC,CAAC,CAAE,CAAAM,QAAA,CAElCb,WAAW,EAAEN,UAAU,CAACJ,KAAK,CAAC,EAAEI,UAAU,CAACJ,KAAK,CAAC,CAAC,CAAC,CAACiB,CAAC,EALjDA,CAAC,CAAG,CAMH,CACT,CAAC,CAEH,CAACZ,QAAQ,eACRX,IAAA,WAAQ8B,OAAO,CAAEA,CAAA,GAAMJ,UAAU,CAAC,CAAC,CAAE,CAAAG,QAAA,cACnC7B,IAAA,CAACF,iBAAiB,GAAE,CAAC,CACf,CAAC,EAER,CAAC,CAEV,CAAC,CAED,cAAe,CAAAK,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}