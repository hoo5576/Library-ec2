{"ast":null,"code":"import React,{useState}from\"react\";import{TextField,Button,Container,Typography,Paper}from\"@mui/material\";import{NavLink,useNavigate}from\"react-router-dom\";import{API_URL}from\"../../../config/contansts\";import axios from\"axios\";import{setCookie}from'../../../utils/cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ALogin=()=>{const navigate=useNavigate();const setTime=3600000;//1시간 (1000 = 1초)\nconst[inputs,setInputs]=useState({email:'',password:''});const{email,password}=inputs;// 비구조화 할당을 통해 값 추출\nconst onChange=e=>{const{value,name}=e.target;// 우선 e.target 에서 name 과 value 를 추출\nsetInputs({...inputs,// 기존의 input 객체를 복사한 뒤\n[name]:value// name 키를 가진 값을 value 로 설정\n});};const onLogin=()=>{console.log(email,password);axios.post(\"\".concat(API_URL,\"/api/admin/login\"),{email,password}).then(res=>{console.log(res);setCookie('login',res.data.data,{expires:new Date(Date.now()+setTime)});navigate('/admin');}).catch(err=>{console.error(err.response.data);alert('로그인 실패!');});};const heandleKeyUp=e=>{console.log(e);if(e.key==='Enter'){onLogin();// Enter 입력이 되면 클릭 이벤트 실행\n}};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",marginTop:\"10vh\"},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,style:{padding:\"20px\",borderRadius:\"16px\"},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",style:{marginBottom:\"20px\"},children:[\"\\uAD00\\uB9AC\\uC790 \\uB85C\\uADF8\\uC778\",/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.8rem'},children:[\"\\uD14C\\uC2A4\\uD2B8 ID: \",/*#__PURE__*/_jsx(\"b\",{children:\"i1004902@naver.com\"}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uD14C\\uC2A4\\uD2B8 PWD: \",/*#__PURE__*/_jsx(\"b\",{children:\"123\"})]})]}),/*#__PURE__*/_jsx(TextField,{label:\"\\uC774\\uBA54\\uC77C\",variant:\"outlined\",fullWidth:true,margin:\"normal\",autoFocus:true,name:\"email\",onChange:onChange,value:email,onKeyUp:heandleKeyUp}),/*#__PURE__*/_jsx(TextField,{label:\"\\uBE44\\uBC00\\uBC88\\uD638\",type:\"password\",variant:\"outlined\",fullWidth:true,margin:\"normal\",name:\"password\",style:{marginTop:\"10px\"},onChange:onChange,value:password,onKeyUp:heandleKeyUp}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",fullWidth:true,style:{marginTop:\"20px\"},onClick:onLogin,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"a\",{href:\"javascript:location.replace('/app4')\",children:\"\\uBA54\\uC778 \\uD398\\uC774\\uC9C0\\uB85C\"})]})});};export default ALogin;","map":{"version":3,"names":["React","useState","TextField","Button","Container","Typography","Paper","NavLink","useNavigate","API_URL","axios","setCookie","jsx","_jsx","jsxs","_jsxs","ALogin","navigate","setTime","inputs","setInputs","email","password","onChange","e","value","name","target","onLogin","console","log","post","concat","then","res","data","expires","Date","now","catch","err","error","response","alert","heandleKeyUp","key","component","maxWidth","style","display","flexDirection","alignItems","marginTop","children","elevation","padding","borderRadius","variant","marginBottom","fontSize","label","fullWidth","margin","autoFocus","onKeyUp","type","color","onClick","href"],"sources":["C:/Users/user/Desktop/Library-ec2/client/src/pages/Admin/ALogin/ALogin.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { TextField, Button, Container, Typography, Paper } from \"@mui/material\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport { API_URL } from \"../../../config/contansts\";\r\nimport axios from \"axios\";\r\nimport {setCookie} from '../../../utils/cookie'\r\n\r\nconst ALogin = () => {\r\n  const navigate = useNavigate();\r\n  const setTime = 3600000; //1시간 (1000 = 1초)\r\n  const [inputs, setInputs] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const { email, password } = inputs; // 비구조화 할당을 통해 값 추출\r\n\r\n  const onChange = (e) => {\r\n    const { value, name } = e.target; // 우선 e.target 에서 name 과 value 를 추출\r\n    setInputs({\r\n      ...inputs, // 기존의 input 객체를 복사한 뒤\r\n      [name]: value // name 키를 가진 값을 value 로 설정\r\n    });\r\n  };\r\n\r\n  const onLogin = () => {\r\n    console.log(email, password);\r\n    axios.post(`${API_URL}/api/admin/login`, {email, password})\r\n    .then(res => {\r\n      console.log(res);\r\n      setCookie('login', res.data.data,{\r\n        expires: new Date(Date.now() + setTime),\r\n      });\r\n      navigate('/admin');\r\n    }).catch(err => {\r\n      console.error(err.response.data);\r\n      alert('로그인 실패!');\r\n    })\r\n  }\r\n\r\n  const heandleKeyUp = (e) => {\r\n    console.log(e);\r\n    if (e.key === 'Enter') {\r\n      onLogin(); // Enter 입력이 되면 클릭 이벤트 실행\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      component=\"main\"\r\n      maxWidth=\"xs\"\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        marginTop: \"10vh\",\r\n      }}\r\n    >\r\n      <Paper elevation={3} style={{ padding: \"20px\", borderRadius: \"16px\" }}>\r\n        <Typography variant=\"h4\" style={{ marginBottom: \"20px\" }}>\r\n          관리자 로그인\r\n          <p style={{ fontSize: '0.8rem'}}>테스트 ID: <b>i1004902@naver.com</b><br/>테스트 PWD: <b>123</b></p>\r\n        </Typography>\r\n        <TextField\r\n          label=\"이메일\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          autoFocus\r\n          name=\"email\"\r\n          onChange={onChange}\r\n          value={email}\r\n          onKeyUp={heandleKeyUp}\r\n        />\r\n        <TextField\r\n          label=\"비밀번호\"\r\n          type=\"password\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          name=\"password\"\r\n          style={{ marginTop: \"10px\" }}\r\n          onChange={onChange}\r\n          value={password}\r\n          onKeyUp={heandleKeyUp}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          fullWidth\r\n          style={{ marginTop: \"20px\" }}\r\n          onClick={onLogin}\r\n        >\r\n          로그인\r\n        </Button>\r\n        {/* <Link to={'/'}>메인 페이지로</Link> */}\r\n        {/* <a href=\"javascript:location.replace('/app1')\">메인 페이지로</a> */}\r\n        <a href=\"javascript:location.replace('/app4')\">메인 페이지로</a>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ALogin;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}