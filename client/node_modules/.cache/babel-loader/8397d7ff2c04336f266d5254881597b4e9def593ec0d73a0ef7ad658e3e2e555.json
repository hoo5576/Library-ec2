{"ast":null,"code":"import React,{useState,useEffect}from'react';import Slider from'react-slick';import axios from'axios';import'slick-carousel/slick/slick.css';import'slick-carousel/slick/slick-theme.css';import{API_URL}from'../../config/contansts';import{NavLink}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Slider1=()=>{const[currentSlide,setCurrentSlide]=useState(0);const[axiosResult,setAxiosResult]=useState([]);const[slidesToShow,setSlidesToShow]=useState(window.innerWidth<=767?1:3);useEffect(()=>{axios.get(\"\".concat(API_URL,\"/api/banner\")).then(res=>{setAxiosResult(res.data);console.log(\"응답 데이터: \",res.data);}).catch(err=>{console.error(err);});},[]);useEffect(()=>{const handleResize=()=>{if(window.innerWidth<=767){setSlidesToShow(1);}else{setSlidesToShow(1);}};// 페이지 로딩 시에도 한 번 호출하여 초기값 설정\nhandleResize();// 창 크기가 변경될 때마다 이벤트 핸들러를 호출합니다.\nwindow.addEventListener('resize',handleResize);// 컴포넌트 언마운트 시에 이벤트 리스너를 정리합니다.\nreturn()=>{window.removeEventListener('resize',handleResize);};},[]);const settings={infinite:true,speed:5000,slidesToShow:slidesToShow,slidesToScroll:1,autoplay:true,autoplaySpeed:2500,centerMode:true,lazyLoad:'ondemand',beforeChange:(current,next)=>setCurrentSlide(next)};return/*#__PURE__*/_jsx(\"div\",{className:\"slider-container-lhs\",children:/*#__PURE__*/_jsx(Slider,{...settings,children:axiosResult.map((slide,index)=>/*#__PURE__*/_jsxs(NavLink,{to:slide.banner_adress,className:\"main-slider-mid-lhs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-slider-img-lhs\",children:/*#__PURE__*/_jsx(\"img\",{src:API_URL+slide.banner_img_url,alt:\"temp\".concat(index+1)})}),/*#__PURE__*/_jsx(\"div\",{className:\"current-slide-info-lhs\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-text-lhs\",children:[slide.banner_title,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:slide.banner_description})]})})]},index))})});};export default Slider1;","map":{"version":3,"names":["React","useState","useEffect","Slider","axios","API_URL","NavLink","jsx","_jsx","jsxs","_jsxs","Slider1","currentSlide","setCurrentSlide","axiosResult","setAxiosResult","slidesToShow","setSlidesToShow","window","innerWidth","get","concat","then","res","data","console","log","catch","err","error","handleResize","addEventListener","removeEventListener","settings","infinite","speed","slidesToScroll","autoplay","autoplaySpeed","centerMode","lazyLoad","beforeChange","current","next","className","children","map","slide","index","to","banner_adress","src","banner_img_url","alt","banner_title","banner_description"],"sources":["C:/Users/user/Desktop/Library-ec2/client/src/pages/Main/Slider.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Slider from 'react-slick';\r\nimport axios from 'axios';\r\nimport 'slick-carousel/slick/slick.css';\r\nimport 'slick-carousel/slick/slick-theme.css';\r\nimport { API_URL } from '../../config/contansts';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Slider1 = () => {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [axiosResult, setAxiosResult] = useState([]);\r\n  const [slidesToShow, setSlidesToShow] = useState(window.innerWidth <= 767 ? 1 : 3);\r\n\r\n  useEffect(() => {\r\n    axios.get(`${API_URL}/api/banner`)\r\n      .then(res => {\r\n        setAxiosResult(res.data);\r\n        console.log(\"응답 데이터: \", res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (window.innerWidth <= 767) {\r\n        setSlidesToShow(1);\r\n      } else {\r\n        setSlidesToShow(1);\r\n      }\r\n    };\r\n\r\n    // 페이지 로딩 시에도 한 번 호출하여 초기값 설정\r\n    handleResize();\r\n\r\n    // 창 크기가 변경될 때마다 이벤트 핸들러를 호출합니다.\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    // 컴포넌트 언마운트 시에 이벤트 리스너를 정리합니다.\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  const settings = {\r\n    infinite: true,\r\n    speed: 5000,\r\n    slidesToShow: slidesToShow,\r\n    slidesToScroll: 1,\r\n    autoplay: true,\r\n    autoplaySpeed: 2500,\r\n    centerMode: true,\r\n    lazyLoad: 'ondemand',\r\n    beforeChange: (current, next) => setCurrentSlide(next),\r\n  };\r\n\r\n  return (\r\n    <div className='slider-container-lhs'>\r\n      <Slider {...settings}>\r\n        {axiosResult.map((slide, index) => (\r\n          <NavLink to={slide.banner_adress} key={index} className='main-slider-mid-lhs'>\r\n            <div className='main-slider-img-lhs'>\r\n              <img src={API_URL + slide.banner_img_url} alt={`temp${index + 1}`} />\r\n            </div>\r\n            <div className='current-slide-info-lhs'>\r\n              <div className='image-text-lhs'>{slide.banner_title}<br></br><span>{slide.banner_description}</span></div>\r\n            </div>\r\n          </NavLink>\r\n        ))}\r\n      </Slider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Slider1;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}