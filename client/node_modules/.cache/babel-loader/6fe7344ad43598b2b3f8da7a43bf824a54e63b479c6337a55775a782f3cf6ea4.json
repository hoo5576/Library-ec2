{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import{API_URL}from'../../../config/contansts';import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Button,TablePagination}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const AUser=()=>{const[axiosResult,setAxiosResult]=useState([]);const[page,setPage]=useState(0);const[rowsPerPage,setRowsPerPage]=useState(10);useEffect(()=>{fetchUserData();},[]);const fetchUserData=()=>{axios.get(\"\".concat(API_URL,\"/api/user\")).then(res=>{setAxiosResult(res.data);console.log(res.data);}).catch(err=>{console.error(err);});};const handleChangePage=(event,newPage)=>{setPage(newPage);};const handleChangeRowsPerPage=event=>{setRowsPerPage(parseInt(event.target.value,10));setPage(0);};const handleDelete=userId=>{const deleteUser=window.confirm(\" \\uC120\\uD0DD\\uD55C \".concat(userId,\" \\uB97C \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"));if(deleteUser){axios.delete(\"\".concat(API_URL,\"/api/user/\").concat(userId)).then(()=>{console.log(\"ID \".concat(userId,\" \\uC0AC\\uC6A9\\uC790 \\uC0AD\\uC81C \\uC644\\uB8CC.\"));fetchUserData();}).catch(err=>{console.error(\"ID \".concat(userId,\" \\uC0AD\\uC81C \\uC911 \\uC5D0\\uB7EC:\"),err);});}else{console.log('삭제 취소');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(TableContainer,{component:Paper,sx:{maxWidth:\"90%\",margin:\"auto\",textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC804\\uD654\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(TableCell,{children:\"SNS \\uD0C0\\uC785\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC0DD\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uAD00\\uB9AC\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:(rowsPerPage>0?axiosResult.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage):axiosResult).map((item,index)=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:item.user_id}),/*#__PURE__*/_jsx(TableCell,{children:item.user_email}),/*#__PURE__*/_jsx(TableCell,{children:item.user_name}),/*#__PURE__*/_jsx(TableCell,{children:item.user_phone}),/*#__PURE__*/_jsx(TableCell,{children:item.sns_type?item.sns_type:'X'}),/*#__PURE__*/_jsx(TableCell,{children:item.created_at}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>handleDelete(item.user_id),variant:\"contained\",color:\"secondary\",children:\"\\uC0AD\\uC81C\"})})]},index))})]}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:axiosResult.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})]})});};export default AUser;","map":{"version":3,"names":["axios","React","useEffect","useState","API_URL","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","TablePagination","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AUser","axiosResult","setAxiosResult","page","setPage","rowsPerPage","setRowsPerPage","fetchUserData","get","concat","then","res","data","console","log","catch","err","error","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","handleDelete","userId","deleteUser","window","confirm","delete","children","component","sx","maxWidth","margin","textAlign","slice","map","item","index","user_id","user_email","user_name","user_phone","sns_type","created_at","onClick","variant","color","rowsPerPageOptions","count","length","onPageChange","onRowsPerPageChange"],"sources":["C:/Users/user/Desktop/Library-ec2/client/src/pages/Admin/AUser/AUser.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { API_URL } from '../../../config/contansts';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Button,\r\n  TablePagination,\r\n} from \"@mui/material\";\r\n\r\nconst AUser = () => {\r\n  const [axiosResult, setAxiosResult] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  useEffect(() => {\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const fetchUserData = () => {\r\n    axios\r\n      .get(`${API_URL}/api/user`)\r\n      .then((res) => {\r\n        setAxiosResult(res.data);\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n\tconst handleDelete = (userId) => {\r\n\t\tconst deleteUser = window.confirm(` 선택한 ${userId} 를 삭제하시겠습니까?`);\r\n\t\t\r\n\t\tif (deleteUser) {\r\n\t\t\taxios\r\n\t\t\t\t.delete(`${API_URL}/api/user/${userId}`)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tconsole.log(`ID ${userId} 사용자 삭제 완료.`);\r\n\t\t\t\t\tfetchUserData();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.error(`ID ${userId} 삭제 중 에러:`, err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log('삭제 취소');\r\n\t\t}\r\n\t};\r\n\t\r\n\r\n  return (\r\n    <>\r\n    <TableContainer\r\n      component={Paper}\r\n      sx={{ maxWidth: \"90%\", margin: \"auto\", textAlign: \"center\" }}\r\n    >\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>ID</TableCell>\r\n              <TableCell>Email</TableCell>\r\n              <TableCell>이름</TableCell>\r\n              <TableCell>전화번호</TableCell>\r\n              <TableCell>SNS 타입</TableCell>\r\n              <TableCell>생성일</TableCell>\r\n              <TableCell>관리</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {(rowsPerPage > 0\r\n              ? axiosResult.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              : axiosResult\r\n            ).map((item, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell>{item.user_id}</TableCell>\r\n                <TableCell>{item.user_email}</TableCell>\r\n                <TableCell>{item.user_name}</TableCell>\r\n                <TableCell>{item.user_phone}</TableCell>\r\n                <TableCell>{item.sns_type ? item.sns_type : 'X'}</TableCell>\r\n                <TableCell>{item.created_at}</TableCell>\r\n                <TableCell>\r\n                  <Button onClick={() => handleDelete(item.user_id)} variant=\"contained\" color=\"secondary\">\r\n                    삭제\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n\t\t\t\t<TablePagination\r\n        rowsPerPageOptions={[5, 10, 25]}\r\n        component=\"div\"\r\n        count={axiosResult.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onPageChange={handleChangePage}\r\n        onRowsPerPageChange={handleChangeRowsPerPage}\r\n      />\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AUser;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OACEC,KAAK,CACLC,SAAS,CACTC,SAAS,CACTC,cAAc,CACdC,SAAS,CACTC,QAAQ,CACRC,KAAK,CACLC,MAAM,CACNC,eAAe,KACV,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEvB,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACoB,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACsB,WAAW,CAAEC,cAAc,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAElDD,SAAS,CAAC,IAAM,CACdyB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAGA,CAAA,GAAM,CAC1B3B,KAAK,CACF4B,GAAG,IAAAC,MAAA,CAAIzB,OAAO,aAAW,CAAC,CAC1B0B,IAAI,CAAEC,GAAG,EAAK,CACbT,cAAc,CAACS,GAAG,CAACC,IAAI,CAAC,CACxBC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACC,IAAI,CAAC,CACvB,CAAC,CAAC,CACDG,KAAK,CAAEC,GAAG,EAAK,CACdH,OAAO,CAACI,KAAK,CAACD,GAAG,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAGA,CAACC,KAAK,CAAEC,OAAO,GAAK,CAC3ChB,OAAO,CAACgB,OAAO,CAAC,CAClB,CAAC,CAED,KAAM,CAAAC,uBAAuB,CAAIF,KAAK,EAAK,CACzCb,cAAc,CAACgB,QAAQ,CAACH,KAAK,CAACI,MAAM,CAACC,KAAK,CAAE,EAAE,CAAC,CAAC,CAChDpB,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAEF,KAAM,CAAAqB,YAAY,CAAIC,MAAM,EAAK,CAChC,KAAM,CAAAC,UAAU,CAAGC,MAAM,CAACC,OAAO,wBAAApB,MAAA,CAASiB,MAAM,6DAAc,CAAC,CAE/D,GAAIC,UAAU,CAAE,CACf/C,KAAK,CACHkD,MAAM,IAAArB,MAAA,CAAIzB,OAAO,eAAAyB,MAAA,CAAaiB,MAAM,CAAE,CAAC,CACvChB,IAAI,CAAC,IAAM,CACXG,OAAO,CAACC,GAAG,OAAAL,MAAA,CAAOiB,MAAM,kDAAa,CAAC,CACtCnB,aAAa,CAAC,CAAC,CAChB,CAAC,CAAC,CACDQ,KAAK,CAAEC,GAAG,EAAK,CACfH,OAAO,CAACI,KAAK,OAAAR,MAAA,CAAOiB,MAAM,uCAAaV,GAAG,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,IAAM,CACNH,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CACrB,CACD,CAAC,CAGA,mBACEnB,IAAA,CAAAI,SAAA,EAAAgC,QAAA,cACAlC,KAAA,CAACT,cAAc,EACb4C,SAAS,CAAEzC,KAAM,CACjB0C,EAAE,CAAE,CAAEC,QAAQ,CAAE,KAAK,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAL,QAAA,eAE3DlC,KAAA,CAACZ,KAAK,EAAA8C,QAAA,eACJpC,IAAA,CAACN,SAAS,EAAA0C,QAAA,cACRlC,KAAA,CAACP,QAAQ,EAAAyC,QAAA,eACPpC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAC,IAAE,CAAW,CAAC,cACzBpC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAC,OAAK,CAAW,CAAC,cAC5BpC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAC,cAAE,CAAW,CAAC,cACzBpC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAC,0BAAI,CAAW,CAAC,cAC3BpC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAC,kBAAM,CAAW,CAAC,cAC7BpC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAC,oBAAG,CAAW,CAAC,cAC1BpC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAC,cAAE,CAAW,CAAC,EACjB,CAAC,CACF,CAAC,cACZpC,IAAA,CAACT,SAAS,EAAA6C,QAAA,CACP,CAAC1B,WAAW,CAAG,CAAC,CACbJ,WAAW,CAACoC,KAAK,CAAClC,IAAI,CAAGE,WAAW,CAAEF,IAAI,CAAGE,WAAW,CAAGA,WAAW,CAAC,CACvEJ,WAAW,EACbqC,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAChB3C,KAAA,CAACP,QAAQ,EAAAyC,QAAA,eACPpC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAEQ,IAAI,CAACE,OAAO,CAAY,CAAC,cACrC9C,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAEQ,IAAI,CAACG,UAAU,CAAY,CAAC,cACxC/C,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAEQ,IAAI,CAACI,SAAS,CAAY,CAAC,cACvChD,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAEQ,IAAI,CAACK,UAAU,CAAY,CAAC,cACxCjD,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAEQ,IAAI,CAACM,QAAQ,CAAGN,IAAI,CAACM,QAAQ,CAAG,GAAG,CAAY,CAAC,cAC5DlD,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAEQ,IAAI,CAACO,UAAU,CAAY,CAAC,cACxCnD,IAAA,CAACR,SAAS,EAAA4C,QAAA,cACRpC,IAAA,CAACH,MAAM,EAACuD,OAAO,CAAEA,CAAA,GAAMtB,YAAY,CAACc,IAAI,CAACE,OAAO,CAAE,CAACO,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,WAAW,CAAAlB,QAAA,CAAC,cAEzF,CAAQ,CAAC,CACA,CAAC,GAXCS,KAYL,CACX,CAAC,CACO,CAAC,EACP,CAAC,cACZ7C,IAAA,CAACF,eAAe,EACZyD,kBAAkB,CAAE,CAAC,CAAC,CAAE,EAAE,CAAE,EAAE,CAAE,CAChClB,SAAS,CAAC,KAAK,CACfmB,KAAK,CAAElD,WAAW,CAACmD,MAAO,CAC1B/C,WAAW,CAAEA,WAAY,CACzBF,IAAI,CAAEA,IAAK,CACXkD,YAAY,CAAEnC,gBAAiB,CAC/BoC,mBAAmB,CAAEjC,uBAAwB,CAC9C,CAAC,EACc,CAAC,CACjB,CAAC,CAEP,CAAC,CAED,cAAe,CAAArB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}