{"ast":null,"code":"import React,{useState,useEffect}from'react';import{AreaChart,Area,XAxis,YAxis,Tooltip,Legend}from'recharts';import axios from'axios';import{API_URL}from'../../../config/contansts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AChart2=()=>{const[chartData2,setChartData2]=useState([]);useEffect(()=>{fetchChartData2();},[]);const fetchChartData2=()=>{axios.get(\"\".concat(API_URL,\"/api/loans\")).then(res=>{const loanData=res.data;const monthlyLoans=loanData.reduce((acc,loan)=>{const loanMonth=new Date(loan.loan_date).getMonth()+1;acc[loanMonth]=(acc[loanMonth]||0)+1;return acc;},{});const chartData=Array.from({length:12},(_,index)=>{const month=index+1;return{month:\"\".concat(month,\"\\uC6D4\"),loans:monthlyLoans[month]||0};});setChartData2(chartData);}).catch(err=>{console.error(err);});};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC6D4 \\uC774\\uC6A9\\uC790\"}),/*#__PURE__*/_jsxs(AreaChart,{width:650,height:300,data:chartData2,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"loans\",stroke:\"#8884d8\",fill:\"#8884d8\"})]})]});};export default AChart2;","map":{"version":3,"names":["React","useState","useEffect","AreaChart","Area","XAxis","YAxis","Tooltip","Legend","axios","API_URL","jsx","_jsx","jsxs","_jsxs","AChart2","chartData2","setChartData2","fetchChartData2","get","concat","then","res","loanData","data","monthlyLoans","reduce","acc","loan","loanMonth","Date","loan_date","getMonth","chartData","Array","from","length","_","index","month","loans","catch","err","console","error","style","textAlign","children","width","height","dataKey","type","stroke","fill"],"sources":["C:/Users/user/Desktop/Library-ec2/client/src/pages/Admin/AComponent/AChart2.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { AreaChart, Area, XAxis, YAxis, Tooltip, Legend } from 'recharts';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../../config/contansts';\r\n\r\nconst AChart2 = () => {\r\n  const [chartData2, setChartData2] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchChartData2();\r\n  }, []);\r\n\r\n  const fetchChartData2 = () => {\r\n    axios\r\n      .get(`${API_URL}/api/loans`)\r\n      .then((res) => {\r\n        const loanData = res.data;\r\n\r\n        const monthlyLoans = loanData.reduce((acc, loan) => {\r\n          const loanMonth = new Date(loan.loan_date).getMonth() + 1;\r\n          acc[loanMonth] = (acc[loanMonth] || 0) + 1;\r\n          return acc;\r\n        }, {});\r\n\r\n        const chartData = Array.from({ length: 12 }, (_, index) => {\r\n          const month = index + 1;\r\n          return {\r\n            month: `${month}월`,\r\n            loans: monthlyLoans[month] || 0,\r\n          };\r\n        });\r\n\r\n        setChartData2(chartData);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center' }}>\r\n      <h2>월 이용자</h2>\r\n      <AreaChart width={650} height={300} data={chartData2}>\r\n        <XAxis dataKey=\"month\" />\r\n        <YAxis />\r\n        <Tooltip />\r\n        <Legend />\r\n        <Area type=\"monotone\" dataKey=\"loans\" stroke=\"#8884d8\" fill=\"#8884d8\" />\r\n      </AreaChart>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AChart2;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAO,CAAEC,MAAM,KAAQ,UAAU,CACzE,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACdgB,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,eAAe,CAAGA,CAAA,GAAM,CAC5BT,KAAK,CACFU,GAAG,IAAAC,MAAA,CAAIV,OAAO,cAAY,CAAC,CAC3BW,IAAI,CAAEC,GAAG,EAAK,CACb,KAAM,CAAAC,QAAQ,CAAGD,GAAG,CAACE,IAAI,CAEzB,KAAM,CAAAC,YAAY,CAAGF,QAAQ,CAACG,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAK,CAClD,KAAM,CAAAC,SAAS,CAAG,GAAI,CAAAC,IAAI,CAACF,IAAI,CAACG,SAAS,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAG,CAAC,CACzDL,GAAG,CAACE,SAAS,CAAC,CAAG,CAACF,GAAG,CAACE,SAAS,CAAC,EAAI,CAAC,EAAI,CAAC,CAC1C,MAAO,CAAAF,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN,KAAM,CAAAM,SAAS,CAAGC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAE,CAACC,CAAC,CAAEC,KAAK,GAAK,CACzD,KAAM,CAAAC,KAAK,CAAGD,KAAK,CAAG,CAAC,CACvB,MAAO,CACLC,KAAK,IAAAnB,MAAA,CAAKmB,KAAK,UAAG,CAClBC,KAAK,CAAEf,YAAY,CAACc,KAAK,CAAC,EAAI,CAChC,CAAC,CACH,CAAC,CAAC,CAEFtB,aAAa,CAACgB,SAAS,CAAC,CAC1B,CAAC,CAAC,CACDQ,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAED,mBACE5B,KAAA,QAAK+B,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,eAClCnC,IAAA,OAAAmC,QAAA,CAAI,2BAAK,CAAI,CAAC,cACdjC,KAAA,CAACX,SAAS,EAAC6C,KAAK,CAAE,GAAI,CAACC,MAAM,CAAE,GAAI,CAACzB,IAAI,CAAER,UAAW,CAAA+B,QAAA,eACnDnC,IAAA,CAACP,KAAK,EAAC6C,OAAO,CAAC,OAAO,CAAE,CAAC,cACzBtC,IAAA,CAACN,KAAK,GAAE,CAAC,cACTM,IAAA,CAACL,OAAO,GAAE,CAAC,cACXK,IAAA,CAACJ,MAAM,GAAE,CAAC,cACVI,IAAA,CAACR,IAAI,EAAC+C,IAAI,CAAC,UAAU,CAACD,OAAO,CAAC,OAAO,CAACE,MAAM,CAAC,SAAS,CAACC,IAAI,CAAC,SAAS,CAAE,CAAC,EAC/D,CAAC,EACT,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}