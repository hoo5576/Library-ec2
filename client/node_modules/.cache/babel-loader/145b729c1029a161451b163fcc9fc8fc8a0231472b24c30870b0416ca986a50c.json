{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import{API_URL}from'../../../config/contansts';import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Button,TablePagination}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const AReview=()=>{const[axiosResult,setAxiosResult]=useState([]);const[page,setPage]=useState(0);const[rowsPerPage,setRowsPerPage]=useState(10);useEffect(()=>{fetchReviewData();},[]);const fetchReviewData=()=>{axios.get(\"\".concat(API_URL,\"/api/review\")).then(res=>{setAxiosResult(res.data);console.log(res.data);}).catch(err=>{console.error(err);});};const handleChangePage=(event,newPage)=>{setPage(newPage);};const handleChangeRowsPerPage=event=>{setRowsPerPage(parseInt(event.target.value,10));setPage(0);};const handleDelete=review_id=>{const deleteUser=window.confirm(\"리뷰를 삭제하시겠습니까?\");if(deleteUser){axios.delete(\"\".concat(API_URL,\"/api/review/\").concat(review_id)).then(()=>{console.log(\"\\uB9AC\\uBDF0 \\uC0AC\\uC6A9\\uC790 \\uC0AD\\uC81C \\uC644\\uB8CC.\");fetchReviewData();}).catch(err=>{console.error(\"\\uB9AC\\uBDF0 \\uC0AD\\uC81C \\uC911 \\uC5D0\\uB7EC:\",err);});}else{console.log('삭제 취소');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(TableContainer,{component:Paper,sx:{maxWidth:\"90%\",margin:\"auto\",textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"\\uB9AC\\uBDF0 ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uCC45 ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uB9AC\\uBDF0 \\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC720\\uC800 ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uD3C9\\uC810\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uB9AC\\uBDF0 \\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC0DD\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uAD00\\uB9AC\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:(rowsPerPage>0?axiosResult.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage):axiosResult).map((item,index)=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:item.review_id}),/*#__PURE__*/_jsx(TableCell,{children:item.book_id}),/*#__PURE__*/_jsx(TableCell,{children:item.review_title}),/*#__PURE__*/_jsx(TableCell,{children:item.user_id}),/*#__PURE__*/_jsx(TableCell,{children:item.review_rating}),/*#__PURE__*/_jsx(TableCell,{children:item.review_content}),/*#__PURE__*/_jsx(TableCell,{children:item.created_at}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>handleDelete(item.user_id),variant:\"contained\",color:\"secondary\",children:\"\\uC0AD\\uC81C\"})})]},index))})]}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:axiosResult.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})]})});};export default AReview;","map":{"version":3,"names":["axios","React","useEffect","useState","API_URL","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","TablePagination","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AReview","axiosResult","setAxiosResult","page","setPage","rowsPerPage","setRowsPerPage","fetchReviewData","get","concat","then","res","data","console","log","catch","err","error","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","handleDelete","review_id","deleteUser","window","confirm","delete","children","component","sx","maxWidth","margin","textAlign","slice","map","item","index","book_id","review_title","user_id","review_rating","review_content","created_at","onClick","variant","color","rowsPerPageOptions","count","length","onPageChange","onRowsPerPageChange"],"sources":["C:/Users/user/Desktop/Library-ec2/client/src/pages/Admin/AReview/ARevirw.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { API_URL } from '../../../config/contansts';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Button,\r\n  TablePagination,\r\n} from \"@mui/material\";\r\n\r\nconst AReview = () => {\r\n  const [axiosResult, setAxiosResult] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  useEffect(() => {\r\n    fetchReviewData();\r\n  }, []);\r\n\r\n  const fetchReviewData = () => {\r\n    axios\r\n      .get(`${API_URL}/api/review`)\r\n      .then((res) => {\r\n        setAxiosResult(res.data);\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n\tconst handleDelete = (review_id) => {\r\n\t\tconst deleteUser = window.confirm(\"리뷰를 삭제하시겠습니까?\");\r\n\t\t\r\n\t\tif (deleteUser) {\r\n\t\t\taxios\r\n\t\t\t\t.delete(`${API_URL}/api/review/${review_id}`)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tconsole.log(`리뷰 사용자 삭제 완료.`);\r\n\t\t\t\t\tfetchReviewData();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.error(`리뷰 삭제 중 에러:`, err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log('삭제 취소');\r\n\t\t}\r\n\t};\r\n\t\r\n\r\n  return (\r\n    <>\r\n    <TableContainer\r\n      component={Paper}\r\n      sx={{ maxWidth: \"90%\", margin: \"auto\", textAlign: \"center\" }}\r\n    >\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>리뷰 ID</TableCell>\r\n              <TableCell>책 ID</TableCell>\r\n              <TableCell>리뷰 제목</TableCell>\r\n              <TableCell>유저 ID</TableCell>\r\n              <TableCell>평점</TableCell>\r\n              <TableCell>리뷰 내용</TableCell>\r\n              <TableCell>생성일</TableCell>\r\n              <TableCell>관리</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {(rowsPerPage > 0\r\n              ? axiosResult.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              : axiosResult\r\n            ).map((item, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell>{item.review_id}</TableCell>\r\n                <TableCell>{item.book_id}</TableCell>\r\n                <TableCell>{item.review_title}</TableCell>\r\n                <TableCell>{item.user_id}</TableCell>\r\n                <TableCell>{item.review_rating}</TableCell>\r\n                <TableCell>{item.review_content}</TableCell>\r\n                <TableCell>{item.created_at}</TableCell>\r\n                <TableCell>\r\n                  <Button onClick={() => handleDelete(item.user_id)} variant=\"contained\" color=\"secondary\">\r\n                    삭제\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n\t\t\t\t<TablePagination\r\n        rowsPerPageOptions={[5, 10, 25]}\r\n        component=\"div\"\r\n        count={axiosResult.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onPageChange={handleChangePage}\r\n        onRowsPerPageChange={handleChangeRowsPerPage}\r\n      />\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AReview;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}